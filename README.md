# Инстуркция по установке и запуске программного обеспечения для оптимизации маршрутов путешествий

## Серверная часть

### Настройка
Установите все пакеты из файла installer.txt

Например, используйте pip
```bash
pip install -r installer.txt
```

### Запуск
* Команда для запуска скрипта вычисления матрицы расстояний
```bash
python compute_distance_matrix.py -i coords_wineries.csv -o crimea_matrix.csv -p params.yaml -t matrix
```

`-i/--input` - путь к файлу с координатами объектов
`-o/--output` - путь к файлу, куда сохранить результат (направления или матрица расстояний)
`-p/--params` - путь к файлу с параметрами для доступа к ГИС-сервису
`-t/--target` - целевое название (directions или matrix)

* Команда для запуска скрипта оптимизации маршрута
```bash
python optimize_route.py -i crimea_matrix.csv -t distance -o route.json -s 1 -e 1
```
`-i/--input` - путь к csv-файлу с матрицей расстояний
`-o/--ouput` - путь к json-файлу для сохранения результатов оптимизации
`-t/--target` - имя оптимизационной цели из матрицы расстояний (расстояние или продолжительность)
`-s/--start` - начальная точка маршрута; будет выбрана точка, соответствующая оптимальной, если не указана
`-e/--end` - конечная точка маршрута; будет выбрана точка, соответствующая оптимальной, если не указана

Последовательность действий:
1. Запуск файла data_collection/create_tables.py, который создает пустые таблицы базы данных
2. Запуск файла data_collection/get_hotels.py, который собирает данные о гостиницах и заносит их в базу данных
3. Запуск файла data_collection/get_poi.py, который собирает данные о категориях интересующих мест и заносит их в базу данных

4. Запуск heat_map.ipynb, который создаст файл csv/all_points.csv с координатами точек из бд и "тепловую" карту

5. Запуск proxy.py, который создаст файл matrix.csv, содержащий матрицу времени и расстояний всех точек
6. Запуск finding_ways/start.py, который найдет лучшие варианты гостиниц

---

## Веб-клиент

Предварительно необходимо установить:
1. [NodeJS](https://nodejs.org/en)
2. [Nmp](https://www.npmjs.com/)

Находясь в корневой папке проекта переходим в папку веб-клиента
```bash
cd ./client
```

Устанавливаем зависимости:
```bash
npm install
```

Запуск проекта в режиме разработки (исползуется Vite):
```bash
npm run dev
```

Сборка приложения:
```bash
npm build
```